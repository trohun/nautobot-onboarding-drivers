sync_devices:
  hostname:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0].name"

  serial:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0].serial"

  device_type:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0].name"
        post_processor: "{{ 'HPE Aruba 2530-8' }}"

  manufacturer:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0].name"
        post_processor: "{{ 'HPE' }}"

  platform:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0].software_version"
        post_processor: "{{ 'Aruba AOS-S' }}"

  mgmt_interface:
    commands:
      - command: "show ip"
        parser: "textfsm"
        jpath: "[?ip_address=='10.228.0.18'].vlan_name | [0]"

  mask_length:
    commands:
      - command: "show ip"
        parser: "textfsm"
        # jpath just needs to return *something*; we ignore it in post_processor
        jpath: "[0].config"
        post_processor: "{{ 24 }}"
