sync_devices:
  hostname:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0]['name']"
  serial:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0]['serial']"
  device_type:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0]['software_version']"
  manufacturer:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0]['software_version']"
  platform:
    commands:
      - command: "show system"
        parser: "textfsm"
        jpath: "[0]['software_version']"
  mgmt_interface:
    commands:
      - command: "show ip"
        parser: "textfsm"
        jpath: "[76]['vlan_name']"  # 'it-management' from your output; adjust index if order changes
  mask_length:
    commands:
      - command: "show ip"
        parser: "textfsm"
        jpath: "[76]['subnet_mask']"  # Extract mask, then use post_processor to convert to length if needed

sync_network_data:
  interfaces:
    commands:
      - command: "show interfaces brief"
        parser: "textfsm"
        jpath: "[*]['interface']"
  ip_addresses:
    commands:
      - command: "show ip"
        parser: "textfsm"
        jpath: "[*]['ip_address']"
  prefixes:
    commands:
      - command: "show ip route"
        parser: "textfsm"
        jpath: "[*]['prefix']"
  vlans:
    commands:
      - command: "show vlans"
        parser: "textfsm"
        jpath: "[*]['vlan_name']"
  vrf:
    commands:
      - command: "show vrf"
        parser: "textfsm"
        jpath: "[*]['vlan_name']"
